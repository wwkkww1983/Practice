using Caist.Framework.Business.ApplicationManage;
using Caist.Framework.Entity.Enum;
using Caist.Framework.ThreadPool;
using Caist.Framework.Util;
using Newtonsoft.Json;
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Caist.Framework.Video
{
    public partial class Form : System.Windows.Forms.Form
    {
        public System.Threading.Timer _timer;
        private static List<Devie> DevieALl;
        public Form()
        {
            InitializeComponent();
            //设置api配置
            var key = "key".GetConfigrationStr();
            var password = "pwd".GetConfigrationStr();
            var Ip = "Ip".GetConfigrationStr();
            var port = "port".GetConfigrationStr();
            HKHttpUtillib.SetPlatformInfo(key, password, Ip, port.ParseToInt(), true);
        }

        private void btnStart_Click(object sender, EventArgs e)
        {
            this.btnStart.Enabled = false;
            this.btnStop.Enabled = true;
            loadCode();
            _timer = new System.Threading.Timer(Work, null, TimeSpan.Zero, TimeSpan.FromMinutes(Convert.ToInt32("time".GetConfigrationStr())));



        }
        void Work(object state)
        {
            Task.Run(()=> {
                Start();
            });

        }

        /// <summary>
        /// 获取所有设备信息
        /// </summary>
        private void loadCode()
        {
            string DeviceUrl = "/artemis/api/resource/v1/cameras";
            // 发起POST请求，超时时间15秒，返回响应字节数组
            byte[] result = HKHttpUtillib.HttpPost(DeviceUrl, "{\"pageNo\": 1,\"pageSize\":100}", 15);
            if (null == result)
            {
                // 请求失败
                Message("请求超时，没有返回数据");
            }
            else
            {
                //// 注意：使用方应当知道哪个Url返回的是字节流（如根据图片Url获取图片数据流），
                ////       哪个肯定是字符串，如果肯定是返回字符串的，直接转成字符串即可
                ////       如果是返回字节流的，有可能因为请求失败了返回json报文，因此对于这种情况需要将字节流
                ////       转换成字符串判断是否存在失败的情况，如果存在失败则按字符串处理，否则认为返回的是字节流
                ////       本例中根据监控点编号查   Result data = new Result;
                //var bb = "{\"code\":\"0\",\"msg\":\"success\",\"data\":{\"total\":49,\"pageNo\":1,\"pageSize\":100,\"list\":[{\"altitude\":null,\"cameraIndexCode\":\"e1e5232583464c7984de3cf9a23fb835\",\"cameraName\":\"办公楼后右(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"gis,event_vss,io,vss,event_io,event_gis,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"可视域能力,视频事件能力,IO能力,视频能力,IO事件能力,可视域事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:50.948+08:00\",\"encodeDevIndexCode\":\"dda170d1d95643e3b6382eef67ad80d9\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:43.635+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"15fa2ecae84c4f78a24406bde69e83c9\",\"cameraName\":\"避难硐室(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:48.054+08:00\",\"encodeDevIndexCode\":\"0922dcdedb0046c5879455c52d5f8fa7\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:43.518+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"04ab34f42db44a34bfa19b28fbeacea3\",\"cameraName\":\"副井口（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:50.016+08:00\",\"encodeDevIndexCode\":\"d4e5fd0c8bff4cd9a991059846f647d9\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:43.802+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"43b50925fd9a4de89aac66230b6ef7fe\",\"cameraName\":\"广场大门(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"gis,event_vss,io,vss,event_io,event_gis,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"可视域能力,视频事件能力,IO能力,视频能力,IO事件能力,可视域事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:49.751+08:00\",\"encodeDevIndexCode\":\"e80aae55ab284ec3b467cb23d64f4365\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:43.086+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"f8a0732b1c9e4222bfc7093e44ef1288\",\"cameraName\":\"中央水泵房（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:47.815+08:00\",\"encodeDevIndexCode\":\"509104de9a2e4fa7be69d8e6f5361269\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:42.988+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"f3aa425970774cd683b1c0f08b552372\",\"cameraName\":\"瓦斯泵控制室（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:48.834+08:00\",\"encodeDevIndexCode\":\"ea99019be9844d1d94b18f34f0048b1e\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:42.688+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"2947290f560b47cf880a462244d38019\",\"cameraName\":\"大厅(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"gis,event_vss,io,vss,event_io,event_gis,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"可视域能力,视频事件能力,IO能力,视频能力,IO事件能力,可视域事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:48.559+08:00\",\"encodeDevIndexCode\":\"186747a5b04e4b32913228ca18d3f5ce\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:42.478+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"67457e5696d64d14b1663879edafd38e\",\"cameraName\":\"办公楼左(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"33\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.702+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:45.654+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"0b6da8845d9649fa8d63444372824bfc\",\"cameraName\":\"大棚煤场(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"34\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.704+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:45.520+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"9858e52c6205477f8be614676a619cf6\",\"cameraName\":\"主扇风机(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"35\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.708+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:45.354+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"1b8d2d8ec5614087842d81f34a218948\",\"cameraName\":\"办公楼后左(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"36\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.712+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:45.211+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"6e8d25507aef49b7908903dee5169eee\",\"cameraName\":\"员工宿舍路口(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"37\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.714+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:45.064+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"d178f82ca452401c96e5b230d5cefabe\",\"cameraName\":\"主井底车场(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"38\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.716+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:44.903+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"212ec3cb93db40f2ba7459475de637ba\",\"cameraName\":\"办公楼后右(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"39\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.718+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:44.777+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"060e1b3ea0a94a46bf0ed7429816645f\",\"cameraName\":\"广场大门(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"40\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.720+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:44.658+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"297c39e4e5a945b58a88a4fcd5521fde\",\"cameraName\":\"瓦斯泵房路口(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"41\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.722+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:44.538+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"ca986e94694c448eb108219192d6417d\",\"cameraName\":\"煤场大门(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"42\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.724+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:44.414+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"081cd0d3ff984c5ea0b45aaebdc92ff8\",\"cameraName\":\"避难硐室(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"43\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.726+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:44.284+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"a17064fc696f46dcabe615226a86e883\",\"cameraName\":\"大厅(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"44\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.728+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:44.149+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"b6da79fc01074c9898e1daeb7185578c\",\"cameraName\":\"风井井口(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"45\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.730+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:44.011+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"652297844ca84d64811af6c557023a7e\",\"cameraName\":\"压风机房(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"46\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.732+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:43.886+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"1a4b00943d164bb087a276f2ff568562\",\"cameraName\":\"主井绞车房(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"47\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.734+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:43.231+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"43165557250c459e825e507c38d5310e\",\"cameraName\":\"地面变电所内(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_audio,io,event_rule,event_veh_compare,event_veh,event_veh_recognition,event_ias,event_heat,record,vss,ptz,event_io,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,音频事件能力,IO能力,行为分析事件能力,车辆比对事件能力,车辆事件能力,车辆识别事件能力,入侵报警事件能力,热成像事件能力,录像能力,视频能力,云台能力,IO事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"48\",\"channelType\":\"digital\",\"channelTypeName\":\"数字通道\",\"createTime\":\"2020-09-01T16:24:46.736+08:00\",\"encodeDevIndexCode\":\"8a292e8262c74dd1b68f9b4e0152eac8\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:42.437+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"e5038947a07f43eba0bd881dfca1a872\",\"cameraName\":\"煤场大门(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"gis,event_vss,io,vss,event_io,event_gis,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"可视域能力,视频事件能力,IO能力,视频能力,IO事件能力,可视域事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:50.567+08:00\",\"encodeDevIndexCode\":\"97702c5629e343cea7910fc3eb55bf31\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:42.184+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"f6928ed718c5430a8b4413de547bc3de\",\"cameraName\":\"三号皮带头（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:44.944+08:00\",\"encodeDevIndexCode\":\"b15e2734dd3347559edb5f96a6a4614f\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:42.113+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"fc6f7fcd0ed74e39aa0bcecab4da62a4\",\"cameraName\":\"主井底车场(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:49.336+08:00\",\"encodeDevIndexCode\":\"3d052d0c9c4a4f71b39c174cdcad9de6\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:41.625+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"67dd118870ba42faae60016c53405129\",\"cameraName\":\"409回风+二采区运输风机（镇艺）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:45.621+08:00\",\"encodeDevIndexCode\":\"3b48b80621a745ffa065d4643956f02c\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:41.453+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"81cfa9da6cb440d481173e471ac1f0c9\",\"cameraName\":\"地面变电所内(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_ias,event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,入侵报警事件能力,视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:44.739+08:00\",\"encodeDevIndexCode\":\"3f0e0c0b0bd149f0b93133c2019dde98\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:42.884+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"71ae17c7fd1d4173aaaf91d76b3e7741\",\"cameraName\":\"主扇控制房（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_ias,event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,入侵报警事件能力,视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:50.700+08:00\",\"encodeDevIndexCode\":\"32758935e33f4ee7bc1ae66f4b9494bd\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:41.225+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"82a357db99f74929bf0b6a9e0f5d051e\",\"cameraName\":\"风井井口(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"gis,event_vss,io,vss,event_io,event_gis,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"可视域能力,视频事件能力,IO能力,视频能力,IO事件能力,可视域事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:49.092+08:00\",\"encodeDevIndexCode\":\"eab8ad68e5a54771aeb31ed58e8630c2\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:41.070+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"c19549b2c2d0406bb543274991b50b73\",\"cameraName\":\"副井底车场（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:47.547+08:00\",\"encodeDevIndexCode\":\"11b2c51b2da444d0908b214a517fb44f\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:40.982+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"468837865c794a11a30be6ced31328f5\",\"cameraName\":\"办公楼后左(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"gis,event_vss,io,vss,event_io,event_gis,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"可视域能力,视频事件能力,IO能力,视频能力,IO事件能力,可视域事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:50.825+08:00\",\"encodeDevIndexCode\":\"a62d1206e2a14fe2bf80443f0bdaf930\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:40.910+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"9f8ece4ba9954387bbc6d6ed28eb1612\",\"cameraName\":\"瓦斯泵房路口(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"gis,event_vss,io,vss,event_io,event_gis,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"可视域能力,视频事件能力,IO能力,视频能力,IO事件能力,可视域事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:50.230+08:00\",\"encodeDevIndexCode\":\"6d09dbc51e214a048cf8acce99032be4\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:40.842+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"cbef0c44de124b6682d3cb4b8d3db3d7\",\"cameraName\":\"1533配电点（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:45.828+08:00\",\"encodeDevIndexCode\":\"dd1acb31fdd94428a2a0a9062646d745\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:42.027+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"cd422afe6fd54c889a246f51548aaa30\",\"cameraName\":\"主井皮带尾（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:46.138+08:00\",\"encodeDevIndexCode\":\"3bea968e0f7e456db84988739ffcdb7f\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:40.425+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"158ce52ea37f4542a415b03a5b34815c\",\"cameraName\":\"地面变电所外（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_ias,event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,入侵报警事件能力,视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:42.872+08:00\",\"encodeDevIndexCode\":\"18b26cdc3e5b4e58b5cc2e06a3c2670f\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:40.290+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"7597c0bd90454478becf3b3d3974c2df\",\"cameraName\":\"二号皮带机头（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:46.437+08:00\",\"encodeDevIndexCode\":\"75a46529a2fc48c098855cd948b31843\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:39.970+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"73daff13e8f24027940566d16b3c4d00\",\"cameraName\":\"主井口主皮带（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:45.430+08:00\",\"encodeDevIndexCode\":\"3b088810a37b4d5b8aeecda3b2f5d401\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:39.869+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"dc64b846ee9942b0a544b7da73232a19\",\"cameraName\":\"员工宿舍路口(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"gis,event_vss,io,vss,event_io,event_gis,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"可视域能力,视频事件能力,IO能力,视频能力,IO事件能力,可视域事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:51.121+08:00\",\"encodeDevIndexCode\":\"826f85150b12426297390ec3ed3b7582\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:39.787+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"3f897195327048279a44aac1d7cb41fa\",\"cameraName\":\"瓦斯泵房（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:48.227+08:00\",\"encodeDevIndexCode\":\"9f132ddf0ca0415297dac56f7ea30e46\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:39.699+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"5d506f940e8b4ba19577b799b4856c43\",\"cameraName\":\"办公楼左(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"gis,event_vss,io,vss,event_io,event_gis,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"可视域能力,视频事件能力,IO能力,视频能力,IO事件能力,可视域事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:44.126+08:00\",\"encodeDevIndexCode\":\"0f248ce54e274ebabc8248e34a188091\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:40.084+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"cd16cf7dc7364344b35b8a0b334fdd55\",\"cameraName\":\"主井绞车房(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_ias,event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,入侵报警事件能力,视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:44.391+08:00\",\"encodeDevIndexCode\":\"e3603187b1c2468681fe1dde70a4974f\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:39.114+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"40dea116a7fe4840974238b0f4d7a699\",\"cameraName\":\"主扇风机(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:50.403+08:00\",\"encodeDevIndexCode\":\"bc73c7931a3948879b4b6b80c8db974e\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:39.013+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"2ef96dcbc2b74bb1937df2d5d154090d\",\"cameraName\":\"轨道下山回风（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:46.301+08:00\",\"encodeDevIndexCode\":\"a62c3fe85be34d8e87e95d94b0e2a1cd\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:40.222+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"8f5253f160de46549a8e9fdbe928d5e9\",\"cameraName\":\"副井口绞车房（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_ias,event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,入侵报警事件能力,视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:51.031+08:00\",\"encodeDevIndexCode\":\"62dc5a8d6f5f4722a328226d3ad06dea\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:38.520+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"2d0e546009ed4377b5f7753e8e2e7b28\",\"cameraName\":\"压风机房(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_face_detect_alarm,event_ias,event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"人脸侦测告警,入侵报警事件能力,视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:43.848+08:00\",\"encodeDevIndexCode\":\"7079389507cc4741b177e76cdaebd42e\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:38.432+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"7d50e198264a4e3aa282e671d58d0e65\",\"cameraName\":\"主井底局扇（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:45.233+08:00\",\"encodeDevIndexCode\":\"1035f37d174747c1ad463c94f0eb7910\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:38.369+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"76b4bba04769413992535488bd0e1b5c\",\"cameraName\":\"三号皮带机尾（镇艺煤矿）\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"event_vss,io,record,vss,event_io,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"视频事件能力,IO能力,录像能力,视频能力,IO事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:46.018+08:00\",\"encodeDevIndexCode\":\"ce4dbac6502e48c493994da3ffeae1e2\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:39.615+08:00\"},{\"altitude\":null,\"cameraIndexCode\":\"c08b1ad29c6245f88e74ee261bab8cf0\",\"cameraName\":\"大棚煤场(镇艺煤矿)\",\"cameraType\":0,\"cameraTypeName\":\"枪机\",\"capabilitySet\":\"gis,event_vss,io,vss,event_io,event_gis,event_rule,net,maintenance,event_device,status\",\"capabilitySetName\":\"可视域能力,视频事件能力,IO能力,视频能力,IO事件能力,可视域事件能力,行为分析事件能力,网络参数配置能力,设备维护能力,设备事件能力,状态能力\",\"intelligentSet\":null,\"intelligentSetName\":null,\"channelNo\":\"1\",\"channelType\":\"analog\",\"channelTypeName\":\"模拟通道\",\"createTime\":\"2020-09-01T16:24:44.557+08:00\",\"encodeDevIndexCode\":\"8640cd7f82f0466890e80f0661b39832\",\"encodeDevResourceType\":null,\"encodeDevResourceTypeName\":null,\"gbIndexCode\":null,\"installLocation\":null,\"keyBoardCode\":null,\"latitude\":null,\"longitude\":null,\"pixel\":null,\"ptz\":null,\"ptzName\":null,\"ptzController\":null,\"ptzControllerName\":null,\"recordLocation\":null,\"recordLocationName\":null,\"regionIndexCode\":\"root000000\",\"status\":null,\"statusName\":null,\"transType\":1,\"transTypeName\":\"TCP\",\"treatyType\":null,\"treatyTypeName\":null,\"viewshed\":null,\"updateTime\":\"2020-09-01T16:27:38.613+08:00\"}]}}";
                //var data = JsonConvert.DeserializeObject<Result<Pages>>(bb);
                var data = JsonConvert.DeserializeObject<Result<Pages>>(System.Text.Encoding.UTF8.GetString(result));

                if (data.code == 0 && data.data.total > 0)
                {
                    this.btncopy.Enabled = true;
                    DevieALl = data.data.list;
                    foreach (var item in data.data.list)
                    {
                        ListViewItem lvitem = new ListViewItem(item.cameraName);
                        lvitem.SubItems.Add(item.cameraIndexCode);
                        lvdevice.Items.Add(lvitem);
                    }
                }
                else
                {
                    Message("数据为空");
                }
            }
        }

        private async Task Start()
        {
            try
            {
                #region 获取设备hls资源地址  更新对应资源地址
                foreach (var item in DevieALl)
                {
                    Hls model = new Hls();
                    model.cameraIndexCode = item.cameraIndexCode;
                    var data = JsonConvert.SerializeObject(model);
                    // 发起POST请求，超时时间15秒，返回响应字节数组
                    byte[] hlsResult = HKHttpUtillib.HttpPost("/artemis/api/video/v1/cameras/previewURLs", data, 15);

                    if (hlsResult != null)
                    {

                        //var aa = "{\"code\":\"0\",\"msg\":\"success\",\"data\":{\"url\":\"http://192.168.10.8:83/openUrl/oeKybAc/live.m3u8\"}}";
                        var UrlData = JsonConvert.DeserializeObject<Result<HlsUrl>>(System.Text.Encoding.UTF8.GetString(hlsResult));
                        var entity = await VideoBLL.getEntity(item.cameraIndexCode);
                        if (entity != null)
                        {
                            if (UrlData.code == 0)
                            {
                                entity.Url = UrlData.data.url;
                                var id = await VideoBLL.UpdateEntity(entity);
                                if (id>0)
                                {
                                    Message($"更新设备{item.cameraName}--{item.cameraIndexCode}hls资源成功");
                                }
                             
                            }
                        }
                    }
                    else
                    {
                        // 请求失败
                        Message($"获取设备{item.cameraName}--{item.cameraIndexCode}hls资源请求超时");
                    }
                }
            }
            catch (Exception ex)
            {

                Message(ex.Message);
            }
           
            #endregion
        }

        private void btnStop_Click(object sender, EventArgs e)
        {
            this.btnStart.Enabled = true;
            this.btnStop.Enabled = false;
        }

        public void Message(string str, string client = "")
        {
            if (!string.IsNullOrEmpty(client) && !string.IsNullOrEmpty(str))
            {
                tbMessage.Invoke(new Action(() =>
                {
                    string value = string.Format("-{0} - 时间：{1}  内容：{2}\r", client, DateTime.Now.ToString("yyyy/MM/dd HH:mm:ss"), str);
                    tbMessage.Font = new Font("宋体", 10, FontStyle.Regular);  //设置SelectionFont属性实现控件中的文本为楷体，大小为12，字样是粗体
                
                    tbMessage.AppendText(value);
                }));
            }
            else
            {
                if (!string.IsNullOrEmpty(str) && string.IsNullOrEmpty(client))
                {
                    tbMessage.Invoke(new Action(() =>
                    {
                        string value = string.Format(">时间：{0}  内容：{1}\r", DateTime.Now.ToString("yyyy/MM/dd HH:mm:ss"), str);
                        tbMessage.Font = new Font("宋体", 10, FontStyle.Regular);  //设置SelectionFont属性实现控件中的文本为楷体，大小为12，字样是粗体
                        tbMessage.AppendText(value);
                    }));
                }
            }
        }

        public string GetListView(ListView listview)
        {
            string outStr = "";
            string single;
            for (int i = 0; i < listview.Items.Count; i++)
            {
                single = "";
                if (i == 0)
                {
                    for (var j = 1; j < listview.Columns.Count; j++)
                    {
                        single = single + listview.Columns[j].Text + "\t";
                    }
                    single = single.Substring(0, single.Length - 1) + "\r\n";
                }
                for (var j = 1; j < listview.Columns.Count; j++)
                {
                    single = single + listview.Items[i].SubItems[j].Text.Replace("\n", "") + "\t";
                }
                outStr = outStr + single.Substring(0, single.Length - 1) + "\r\n";
            }
            return outStr;
        }

        private void btncopy_Click(object sender, EventArgs e)
        {
            var str = GetListView(lvdevice);
            if (!string.IsNullOrEmpty(str))
            {
                Clipboard.SetText(str);
            }
            else
            {
                Clipboard.SetText("没有数据");
            }
        }
    }
}
